{"version":3,"sources":["../src/showdown-youtube.js"],"names":[],"mappings":"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","file":"showdown-youtube.js","sourcesContent":["/**\n * Youtube Extension.\n * Uses image syntax to embed videos\n * Usage:\n * ![youtube video][http://youtu.be/dQw4w9WgXcQ]\n *\n * or\n *\n * ![youtube video][1]\n * [1]: http://youtu.be/dQw4w9WgXcQ\n */\n(function (extension) {\n  'use strict';\n\n  if (typeof showdown !== 'undefined') {\n    // global (browser or nodejs global)\n    extension(showdown);\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD\n    define(['showdown'], extension);\n  } else if (typeof exports === 'object') {\n    // Node, CommonJS-like\n    module.exports = extension(require('showdown'));\n  } else {\n    // showdown was not found so we throw\n    throw Error('Could not find showdown library');\n  }\n\n}(function (showdown) {\n  'use strict';\n\n  var svg =\n      '<div class=\"youtube-preview\" style=\"width:%2; height:%3; background-color:#333; position:relative;\">' +\n      '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" ' +\n      '     width=\"100\" height=\"70\" viewBox=\"0 0 100 70\"' +\n      '     style=\"position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);\">' +\n      '    <defs>' +\n      '      <linearGradient id=\"grad1\" x1=\"0%\" x2=\"0%\" y1=\"0%\" y2=\"100%\">' +\n      '        <stop offset=\"0%\" style=\"stop-color:rgb(229,45,49);stop-opacity:1\" />' +\n      '        <stop offset=\"100%\" style=\"stop-color:rgb(191,23,29);stop-opacity:1\" />' +\n      '      </linearGradient>' +\n      '    </defs>' +\n      '    <rect width=\"100%\" height=\"100%\" rx=\"26\" fill=\"url(#grad1)\"/>' +\n      '    <polygon points=\"35,20 70,35 35,50\" fill=\"#fff\"/>' +\n      '    <polygon points=\"35,20 70,35 64,37 35,21\" fill=\"#e8e0e0\"/>' +\n      '</svg>' +\n      '<div style=\"text-align:center; padding-top:10px; color:#fff\"><a href=\"%1\">%1</a></div>' +\n      '</div>',\n    img = '<img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=\" width=\"%2\" height=\"%3\">',\n    iframe = '<iframe src=\"%1\" width=\"%2\" height=\"%3\" frameborder=\"0\" allowfullscreen></iframe>',\n    imgRegex = /(?:<p>)?<img.*?src=\"(.+?)\"(.*?)\\/?>(?:<\\/p>)?/gi,\n    fullYoutubeRegex = /(?:(?:https?:)?(?:\\/\\/)?)(?:(?:www)?\\.)?youtube\\.(?:.+?)\\/(?:(?:watch\\?v=)|(?:embed\\/))([a-zA-Z0-9_-]{11})/i,\n    shortYoutubeRegex = /(?:(?:https?:)?(?:\\/\\/)?)?youtu\\.be\\/([a-zA-Z0-9_-]{11})/i,\n    vimeoRegex = /(?:(?:https?:)?(?:\\/\\/)?)(?:(?:www)?\\.)?vimeo.com\\/(\\d+)/;\n\n  function parseDimensions(rest, options) {\n    var width,\n      height,\n      d,\n      defaultWidth,\n      defaultHeight;\n\n    defaultWidth = options.youtubeWidth ? options.youtubeWidth : 420;\n    defaultHeight = options.youtubeHeight ? options.youtubeHeight : 315;\n\n    if (rest) {\n      width = (d = /width=\"(.+?)\"/.exec(rest)) ? d[1] : defaultWidth;\n      height = (d = /height=\"(.+?)\"/.exec(rest)) ? d[1] : defaultHeight;\n    }\n\n    // add units so they can be used in css\n    if (/^\\d+$/gm.exec(width)) {\n      width += 'px';\n    }\n    if (/^\\d+$/gm.exec(height)) {\n      height += 'px';\n    }\n\n    return {\n      width: width,\n      height: height\n    };\n  }\n\n  /**\n   * Replace with video iframes\n   */\n  showdown.extension('youtube', function () {\n    return [\n      {\n        // It's a bit hackish but we let the core parsers replace the reference image for an image tag\n        // then we replace the full img tag in the output with our iframe\n        type: 'output',\n        filter: function (text, converter, options) {\n          var tag = iframe;\n          if (options.smoothLivePreview) {\n            tag = (options.youtubeUseSimpleImg) ? img : svg;\n          }\n          return text.replace(imgRegex, function (match, url, rest) {\n            var d = parseDimensions(rest, options),\n              m, fUrl = '';\n            if ((m = shortYoutubeRegex.exec(url)) || (m = fullYoutubeRegex.exec(url))) {\n              fUrl = 'https://www.youtube.com/embed/' + m[1] + '?rel=0';\n            } else if ((m = vimeoRegex.exec(url))) {\n              fUrl = 'https://player.vimeo.com/video/' + m[1];\n            } else {\n              return match;\n            }\n            return tag.replace(/%1/g, fUrl).replace('%2', d.width).replace('%3', d.height);\n          });\n        }\n      }\n    ];\n  });\n}));\n"]}